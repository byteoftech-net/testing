<!DOCTYPE html>
<html>
<head>
  <title>Reddit Scraper</title>
</head>
<body>
  <script>
    fetch('https://corsproxy.io/?' + encodeURIComponent('https://old.reddit.com/r/tearsofthekingdom/')).then(function (response) {
      // The API call was successful!
      return response.text();
    }).then(function (html) {
      // Convert the HTML string into a document object
      var parser = new DOMParser();
      var doc = parser.parseFromString(html, 'text/html');

      // Get all the posts on the page
      var posts = doc.querySelectorAll('.thing.link');

      posts.forEach(function(post) {
        var title = post.querySelector('.title a').textContent;
        var author = post.querySelector('.author').textContent;
        var upvotes = post.querySelector('.score.likes').textContent;
        var downvotes = post.querySelector('.score.dislikes').textContent;
        var url = post.querySelector('.title a').getAttribute('href');

        console.log("Title: " + title);
        console.log("Author: " + author);
        console.log("Upvotes: " + upvotes);
        console.log("Downvotes: " + downvotes);
        console.log("URL: " + url);
        console.log("-------------------------------------------");
      });

    }).catch(function (err) {
      // There was an error
      console.error('Something went wrong.', err);
    });
  </script>
</body>
</html>
